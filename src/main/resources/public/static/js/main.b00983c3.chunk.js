(this["webpackJsonpallstate-email-app"]=this["webpackJsonpallstate-email-app"]||[]).push([[0],{108:function(e,t,c){},109:function(e,t,c){},110:function(e,t,c){},114:function(e,t,c){},119:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(33),s=c.n(n),i=(c(108),c(70)),l=c(80),r=c(12),j=(c(109),c(189)),o=c(182),d=c(190),b=c(191),x=c(192),h=c(194),O=c(193),m=c(188),u=c(183),p=c(180),f=c(198),v=c(196),g=c(195),y=c(185),S=c(91),E=c.n(S),N=c(90),w=c.n(N),k=c(197),A=c(92),C=c.n(A),F=c(179),D=c(186),I=(c(110),c(2));var T=function(e){var t=e.selectedEmail;return Object(I.jsx)("div",{children:null!==t&&void 0!==t?Object(I.jsx)("div",{className:"mail",children:Object(I.jsxs)("div",{className:"mail-body",children:[Object(I.jsxs)("div",{className:"mail-bodyHeader",children:[Object(I.jsx)("div",{className:"mail-subject",children:Object(I.jsxs)("h2",{children:["From: ",t.email]})}),Object(I.jsx)(m.a,{}),Object(I.jsx)("div",{className:"mail-subject",children:Object(I.jsxs)("h2",{children:["Subject: ",t.subject]})}),Object(I.jsx)(m.a,{})]}),Object(I.jsx)("div",{className:"mail-message",children:Object(I.jsx)("p",{children:t.message})})]})}):Object(I.jsx)("p",{children:"No email selected."})})},J=c(89),L=c.n(J),P=(c(114),400);function z(e){var t=e.emailData,c=e.onEmailSelected,n=e.deleteEmail,s=e.toggleSeen,i=Object(a.useState)(null),l=Object(r.a)(i,2),S=l[0],N=l[1];console.log({onEmailSelected:c});var A=Object(a.useState)(""),J=Object(r.a)(A,2),z=J[0],B=J[1],G=t.filter((function(e){return e.email.toLowerCase().includes(z.toLowerCase())}));return Object(I.jsxs)(j.a,{sx:{display:"flex"},children:[Object(I.jsx)(d.a,{}),Object(I.jsx)(b.a,{position:"fixed",sx:{width:"calc(100% - ".concat(P,"px)"),ml:"".concat(P,"px")},children:Object(I.jsx)(x.a,{children:Object(I.jsx)(O.a,{variant:"h6",noWrap:!0,component:"div",children:"AllState Email Application"})})}),Object(I.jsxs)(o.a,{sx:{width:P,flexShrink:0,"& .MuiDrawer-paper":{width:P,boxSizing:"border-box"}},variant:"permanent",anchor:"left",children:[Object(I.jsx)(x.a,{children:Object(I.jsx)("div",{className:"search",children:Object(I.jsxs)("div",{className:"searchInputs",children:[Object(I.jsx)("input",{type:"search",placeholder:"From:",onChange:function(e){B(e.target.value)}}),Object(I.jsx)("div",{className:"searchIcon",children:Object(I.jsx)(L.a,{})})]})})}),Object(I.jsx)(m.a,{}),Object(I.jsx)(h.a,{children:G.map((function(e){return Object(I.jsxs)(u.a,{alignItems:"flex-start",children:[Object(I.jsx)(g.a,{children:Object(I.jsx)(F.a,{variant:"dot",color:"primary",invisible:e.seen,children:Object(I.jsx)(y.a,{children:Object(I.jsx)(D.a,{})})})}),Object(I.jsx)(p.a,{selected:S===e,onClick:function(){return function(e){N(e),s(e),console.log(e.seen),console.log(e.seen)}(e)},"data-testid":"email-item-".concat(e.id),children:Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{primary:e.subject}),Object(I.jsx)(v.a,{primary:Object(I.jsxs)(a.Fragment,{children:[" From: ",e.email]}),secondary:Object(I.jsx)(a.Fragment,{children:Object(I.jsx)(O.a,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:e.message})})})]})}),Object(I.jsx)(k.a,{"aria-label":"delete",onClick:function(){return n(e)},"data-testid":"delete-button-".concat(e.id),children:Object(I.jsx)(w.a,{})})]},e.id)}))}),Object(I.jsx)(m.a,{}),Object(I.jsx)(h.a,{children:["All mail","Trash","Spam"].map((function(e,t){return Object(I.jsx)(u.a,{disablePadding:!0,children:Object(I.jsxs)(p.a,{children:[Object(I.jsx)(f.a,{children:t%2===0?Object(I.jsx)(E.a,{}):Object(I.jsx)(C.a,{})}),Object(I.jsx)(v.a,{primary:e})]})},e)}))})]}),Object(I.jsx)(j.a,{component:"main",sx:{flexGrow:1,bgcolor:"background.default",p:1},children:Object(I.jsx)(T,{selectedEmail:S})})]})}var B=c(181);var G=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(null),j=Object(r.a)(s,2),o=(j[0],j[1]),d=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("http://localhost:8080/email/getAll");case 2:t=e.sent,c=t.data,n(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d()}),[]),Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(z,{emailData:c,onEmailSelected:function(e){o(e),console.log(e)},deleteEmail:function(e){var t=c;fetch("http://localhost:8080/email/delete/".concat(e.id),{method:"DELETE"}).then((function(c){if(c.ok){var a=t.indexOf(e);t.splice(a,1),d()}}))},toggleSeen:function(e){if(!1===e.seen){e.seen=!0;var t={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("http://localhost:8080/email/update",t)}}})})};s.a.render(Object(I.jsx)(G,{}),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.b00983c3.chunk.js.map