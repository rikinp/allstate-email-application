{"version":3,"sources":["components/E-mail/Email.js","components/Emailinbox/EmailInbox.js","App.js","index.js"],"names":["Email","selectedEmail","undefined","className","email","Divider","subject","message","drawerWidth","PermanentDrawerLeft","emailData","onEmailSelected","deleteEmail","toggleSeen","useState","setSelectedEmail","console","log","searchField","setSearchField","filteredEmails","filter","toLowerCase","includes","Box","sx","display","CssBaseline","AppBar","position","width","ml","Toolbar","Typography","variant","noWrap","component","Drawer","flexShrink","boxSizing","anchor","type","placeholder","onChange","e","target","value","List","map","ListItem","alignItems","ListItemAvatar","Badge","color","invisible","seen","Avatar","ListItemButton","selected","onClick","handleEmailClick","id","ListItemText","primary","secondary","IconButton","text","index","disablePadding","ListItemIcon","flexGrow","bgcolor","p","App","setEmailData","getData","axios","get","data","useEffect","emails","fetch","method","then","response","ok","idx","indexOf","splice","clickedEmail","requestOptions","headers","body","JSON","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ff1091e6.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Email.css\";\r\nimport Divider from \"@mui/material/Divider\";\r\n\r\nfunction Email({ selectedEmail }) {\r\n  return (\r\n    <div>\r\n      {selectedEmail !== null && selectedEmail !== undefined ? (\r\n        <div className=\"mail\">\r\n          <div className=\"mail-body\">\r\n            <div className=\"mail-bodyHeader\">\r\n              <div className=\"mail-subject\">\r\n                <h2>From: {selectedEmail.email}</h2>\r\n              </div>\r\n              <Divider />\r\n              <div className=\"mail-subject\">\r\n                <h2>Subject: {selectedEmail.subject}</h2>\r\n              </div>\r\n              <Divider />\r\n            </div>\r\n            <div className=\"mail-message\">\r\n              <p>{selectedEmail.message}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <p>No email selected.</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Email;\r\n","import * as React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Drawer from \"@mui/material/Drawer\";\r\nimport CssBaseline from \"@mui/material/CssBaseline\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport List from \"@mui/material/List\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Divider from \"@mui/material/Divider\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemButton from \"@mui/material/ListItemButton\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport InboxIcon from \"@mui/icons-material/MoveToInbox\";\r\nimport DeleteIcon from \"@mui/icons-material/Delete\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport MailIcon from \"@mui/icons-material/Mail\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport { Mail } from \"@material-ui/icons\";\r\nimport Email from \"../E-mail/Email\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport \"./SearchBar.css\";\r\n\r\nconst drawerWidth = 400;\r\n\r\nexport default function PermanentDrawerLeft({ emailData, onEmailSelected, deleteEmail, toggleSeen }) {\r\n  const [selectedEmail, setSelectedEmail] = useState(null);\r\n\r\n  const handleEmailClick = (email) => {\r\n    setSelectedEmail(email);\r\n    toggleSeen(email);\r\n    console.log(email.seen);\r\n    console.log(email.seen);\r\n  };\r\n\r\n  console.log({ onEmailSelected });\r\n\r\n  const [searchField, setSearchField] = useState(\"\");\r\n\r\n  const filteredEmails = emailData.filter((email) => {\r\n    return (\r\n      email.email.toLowerCase().includes(searchField.toLowerCase())\r\n    );\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setSearchField(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        sx={{ width: `calc(100% - ${drawerWidth}px)`, ml: `${drawerWidth}px` }}\r\n      >\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" noWrap component=\"div\">\r\n            AllState Email Application\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        sx={{\r\n          width: drawerWidth,\r\n          flexShrink: 0,\r\n          \"& .MuiDrawer-paper\": {\r\n            width: drawerWidth,\r\n            boxSizing: \"border-box\",\r\n          },\r\n        }}\r\n        variant=\"permanent\"\r\n        anchor=\"left\"\r\n      >\r\n        <Toolbar>\r\n          <div className=\"search\">\r\n            <div className=\"searchInputs\">\r\n              <input\r\n                type=\"search\"\r\n                placeholder=\"From:\"\r\n                onChange={handleChange}\r\n              />\r\n              <div className=\"searchIcon\">\r\n                <SearchIcon />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Toolbar>\r\n        <Divider />\r\n        <List>\r\n          {filteredEmails.map((email) => (\r\n            <ListItem key={email.id} alignItems=\"flex-start\">\r\n              <ListItemAvatar>\r\n                <Badge variant=\"dot\" color=\"primary\" invisible={email.seen}>\r\n                  \r\n                  <Avatar>\r\n                    <Mail />\r\n                  </Avatar>\r\n                </Badge>\r\n              </ListItemAvatar>\r\n              <ListItemButton\r\n                selected={selectedEmail === email}\r\n                onClick={() => handleEmailClick(email)}\r\n                data-testid={`email-item-${email.id}`}\r\n              >\r\n                <div>\r\n                  <ListItemText primary={email.subject} />\r\n                  <ListItemText\r\n                    primary={\r\n                      <React.Fragment>\r\n                        {\" From: \"}\r\n                        {email.email}\r\n                      </React.Fragment>\r\n                    }\r\n                    secondary={\r\n                      <React.Fragment>\r\n                        <Typography\r\n                          sx={{ display: \"inline\" }}\r\n                          component=\"span\"\r\n                          variant=\"body2\"\r\n                          color=\"text.primary\"\r\n                        >\r\n                          {email.message}\r\n                        </Typography>\r\n                      </React.Fragment>\r\n                    }\r\n                  />\r\n                </div>\r\n              </ListItemButton>\r\n              <IconButton aria-label=\"delete\" onClick={() => deleteEmail(email)} data-testid={`delete-button-${email.id}`}>\r\n                <DeleteIcon />\r\n              </IconButton>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {[\"All mail\", \"Trash\", \"Spam\"].map((text, index) => (\r\n            <ListItem key={text} disablePadding>\r\n              <ListItemButton>\r\n                <ListItemIcon>\r\n                  {index % 2 === 0 ? <InboxIcon /> : <MailIcon />}\r\n                </ListItemIcon>\r\n                <ListItemText primary={text} />\r\n              </ListItemButton>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n      <Box\r\n        component=\"main\"\r\n        sx={{ flexGrow: 1, bgcolor: \"background.default\", p: 1 }}\r\n      >\r\n        <Email selectedEmail={selectedEmail} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}","import React from \"react\";\nimport \"./App.css\";\nimport PermanentDrawerLeft from \"./components/Emailinbox/EmailInbox.js\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [emailData, setEmailData] = useState([]);\n\n  const [selectedEmail, setSelectedEmail] = useState(null);\n  const handleEmailSelected = (email) => {\n    setSelectedEmail(email);\n    console.log(email);\n  };\n\n  const deleteEmail = (email) => {\n    const emails = emailData;\n    const requestOptions = {\n      method: \"DELETE\",\n    };\n    fetch(`/email/delete/${email.id}`, requestOptions)\n      .then((response) => {\n        if (response.ok) {\n          const idx = emails.indexOf(email);\n          emails.splice(idx, 1);\n          getData();\n        }\n      });\n  };\n\n  const toggleSeen = (clickedEmail) => {\n    const emails = emailData;\n    if(clickedEmail.seen === false) {\n      clickedEmail.seen = true;\n      const requestOptions = {\n        method: \"PUT\",\n        headers: { \n          \"Accept\": \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(clickedEmail)\n      };\n      fetch(`/email/update`, requestOptions)\n    }\n  };\n\n  const getData = async () => {\n    const { data } = await axios.get(`/email/getAll`);\n    setEmailData(data);\n  };\n\n  useEffect(() => {\n    getData();\n    // setEmailData(jsonData);\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <PermanentDrawerLeft\n        emailData={emailData}\n        onEmailSelected={handleEmailSelected}\n        deleteEmail={deleteEmail}\n        toggleSeen={toggleSeen}\n      />\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import { store } from './app/store';\n// import { Provider } from 'react-redux';\n\nReactDOM.render(\n  \n    // <Provider store={store}>\n    //   <App />\n    // </Provider>,\n    <App/>,\n  \n  document.getElementById('root')\n);\n"],"sourceRoot":""}